<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LeoCart - Decentralized Marketplace</title>
    <link rel="icon" href="assets/images/leocart-favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/js/css/styles.css">
</head>
<body>
<div id="globalSpinner" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2000;background:rgba(0,0,0,0.4);align-items:center;justify-content:center;">
  <div class="spinner-border text-light" style="width:4rem;height:4rem;" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>
<!-- Toast Notification Container -->
<div id="toastContainer" style="position:fixed;top:1rem;right:1rem;z-index:3000;"></div>
<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="index.html">
            <img src="assets/images/leocart-logo.png" alt="LeoCart Logo" style="height:32px;width:auto;margin-right:8px;">
            LeoCart
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto align-items-center">
                <li class="nav-item me-2 d-flex align-items-center">
                    <span id="walletAddress" class="wallet-info text-white me-2" style="max-width:120px;overflow:hidden;text-overflow:ellipsis;display:inline-block;vertical-align:middle;"></span>
                    <span id="walletBalance" class="badge bg-success" style="font-size:1em;vertical-align:middle;">0 ALEO</span>
                </li>
                <li class="nav-item me-2">
                    <button id="connectWallet" class="btn btn-primary">Connect Wallet</button>
                    <button id="disconnectWallet" class="btn btn-secondary d-none">Disconnect</button>
                </li>
                <li class="nav-item">
                    <!-- <a href="cart.html" class="btn btn-outline-light position-relative"> -->
                        <!-- Cart <span id="cartCount" class="cart-badge">0</span> -->
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container section">
    <div id="alert" class="alert alert-dismissible fade show d-none" role="alert"></div>

    <section id="productSection">
        <h2 class="my-4">Featured Products</h2>
        <div class="row mb-3">
            <div class="col-md-6 mb-2">
                <input type="text" id="productSearch" class="form-control" placeholder="Search products...">
            </div>
            <div class="col-md-4 mb-2">
                <select id="categoryFilter" class="form-select">
                    <option value="">All Categories</option>
                    <!-- Categories will be populated dynamically -->
                </select>
            </div>
        </div>
        <div class="row" id="productList"></div>
        <div class="d-flex justify-content-center mt-3">
            <nav>
                <ul class="pagination" id="productPagination"></ul>
            </nav>
        </div>
    </section>
</div>

<!-- Product Template -->
<template id="productTemplate">
    <div class="col-md-4 mb-4">
        <div class="card p-3">
            <img src="" alt="" class="card-img-top product-img">
            <div class="card-body">
                <h5 class="product-name"></h5>
                <p class="product-price"></p>
                <p class="product-category text-muted small"></p>
                <button class="btn btn-primary add-to-cart">Add to Cart</button>
            </div>
        </div>
    </div>
</template>

<section class="section container">
    <h2>Wallet Actions</h2>
    <div class="row g-3">
        <div class="col-md-4">
            <input type="number" class="form-control mb-2" id="depositAmount" placeholder="Amount to deposit (ALEO)">
            <button class="btn btn-primary w-100" id="depositBtn">Deposit</button>
        </div>
        <div class="col-md-3"></div>
        <div class="col-md-4">
            <input type="number" class="form-control mb-2" id="withdrawAmount" placeholder="Amount to withdraw (ALEO)">
            <button class="btn btn-primary w-100" id="withdrawBtn">Withdraw</button>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-12">
            <button class="btn btn-outline-light w-100" id="checkBalanceBtn">Check Balance</button>
        </div>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/product.js"></script>
<script src="assets/js/cart.js"></script>
<script src="assets/js/main.js"></script>
</body>
</html>
